{% extends "website/base.html" %}


{% block main %}
    {% if games_list %}
        <form method="get">
            <select name="sort" id="sort" style="margin-left: 40px;">
                <option hidden="hidden" selected="selected" value="">Sort...</option>

                <option value="title">A-Z</option>
                <option value="-title">Z-A</option>
                <option value="releasedate">Release Date Ascending</option>
                <option value="-releasedate">Release Date Descending</option>
                <option value="id">Added Ascending</option>
                <option value="-id">Added Descending</option>
            </select>
            <input type="submit" value="Sort">
        </form>

        <ul>
            <div class="list">
                <li>

                    {% for game in games_list.all %}
                            <a href="{% url 'website:game' game.id %}">
                                <div class="list-element">

                                    {% if game.image %}
                                        <img alt="a" src={{ game.image.binary_blob }}>
                                    {% else %}
                                        <img src="" alt="No image">
                                    {% endif %}

                                    <h3>{{ game.title }}</h3>
                                    <div class="list-text">
                                        {{ game.description }}
                                    </div>
                                    <p>
                                        Released: {{ game.releasedate }}
                                        <br>
                                        ID: {{ game.id }}
                                    </p>

                                    {% if request.user.is_staff %}
                                        <a id="delete" href="{% url 'website:delete' 'game' game.id %}">delete</a>
                                    {% endif %}
                                </div>
                            </a>
                    {% endfor %}

                </li>
            </div>
        </ul>

    {% else %}
        <p>No games are available.</p>
    {% endif %}

{% endblock %}
